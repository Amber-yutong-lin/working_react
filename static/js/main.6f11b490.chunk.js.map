{"version":3,"sources":["components/page1.gif","components/Page1.js","components/Page2.js","components/Page3.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Page1","react_default","a","createElement","className","es","to","src","page1","alt","Component","tempAlbumList","Page2","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","searchValue","selectedAlbumId","albumList","e","preventDefault","id","length","push","name","active","setState","i","target","value","_this$state","filter","item","toLowerCase","indexOf","history","alert","_this2","_this$state2","filterAlbum","placeholder","onChange","handleFilterValue","bind","type","map","albumItem","key","concat","handleOnchangeValue","autoFocus","href","onClick","addAlbum","tempUploadList","Page3","imgUrlValue","curImgId","curId","uploadList","isDrag","titleName","match","params","isExist","some","console","log","forEach","list","imgId","imgUrl","x","y","zIndex","curList","uploadImg","refs","click","freader","FileReader","ofile","files","self","readAsDataURL","onload","l","result","data","handleDraggableFn","dataId","children","DraggableData","ref","style","sortArr","slice","sort","b","dataIndex","_this3","curUpload","getCurUploadList","react_draggable_default","onStart","handleStart","handle","onDrag","handleDrag","onStop","handleStop","defaultPosition","data-id","handleChangeFile","addImg","onChangeUpload","App","path","exact","component","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","render","src_App_0","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.6f11b490.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/page1.40426632.gif\";","\r\nimport page1 from './page1.gif'\r\nimport React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport './Page1.css';\r\nclass Page1 extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"page1\">\r\n                <div className=\"container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"page-enter\">\r\n                            <Link to=\"page2\">make your Polaroid Story</Link>\r\n                        </div>\r\n                        <img src={page1} alt = 'img'/>\r\n                    </div>\r\n                    <div className=\"footer\">\r\n                        <span className=\"footer-homepage fr\">homepage of Polaroid memory.</span>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Page1;\r\n","\r\nimport React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './Page2.css';\r\nlet tempAlbumList =[];\r\nclass Page2 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            searchValue:\"\",\r\n            selectedAlbumId:'',\r\n            albumList:tempAlbumList\r\n        }\r\n    }\r\n    componentWillUnmount(){\r\n        let {albumList} = this.state;\r\n        tempAlbumList = albumList;\r\n    }\r\n    addAlbum(e){\r\n        e.preventDefault();\r\n        let {albumList} = this.state;\r\n        let id = albumList.length +1;\r\n        albumList.push({\r\n            id:id,\r\n            name:'album'+id,\r\n            active:false\r\n        });\r\n        this.setState({\r\n            searchValue:\"\",\r\n            albumList:albumList\r\n        })\r\n    }\r\n    handleOnchangeValue(id,e){\r\n\r\n        let {albumList} = this.state;\r\n        for(let i=0;i<albumList.length;i++){\r\n            if(albumList[i].id === id){\r\n                albumList[i].name =e.target.value;\r\n                this.setState({\r\n                    albumList:albumList\r\n                });\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    handleFilterValue(e){\r\n        this.setState({\r\n            searchValue:e.target.value\r\n        })\r\n    }\r\n    filterAlbum(){\r\n        let {albumList, searchValue} = this.state;\r\n        return albumList.filter((item)=>{\r\n            return (item.name.toLowerCase().indexOf(searchValue.toLowerCase()) >=0 || searchValue ===\"\")\r\n        });\r\n    }\r\n    handleActive(id,e){\r\n        e.preventDefault();\r\n        let {albumList} = this.state;\r\n        for(let i=0;i<albumList.length;i++){\r\n            if(albumList[i].id === id){\r\n                albumList[i].active = !albumList[i].active;\r\n                this.setState({\r\n                    selectedAlbumId:id,\r\n                    albumList:albumList\r\n                });\r\n            }else{\r\n                albumList[i].active = false;\r\n            }\r\n        }\r\n    }\r\n    handleGoPage3(e){\r\n        e.preventDefault();\r\n        let {selectedAlbumId} = this.state;\r\n        if(selectedAlbumId ===\"\"){\r\n            alert(\"select The album\");\r\n            return;\r\n        }\r\n        this.props.history.push(\"/page3/\"+selectedAlbumId);\r\n    }\r\n    render() {\r\n        let {albumList, searchValue} = this.state;\r\n        albumList = this.filterAlbum();\r\n        return (\r\n            <div className=\"page2\">\r\n                <div className=\"container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"p40 page2-inner\">\r\n                            <p className=\"page2-title\">create an album</p>\r\n                            <p className=\"page2-search\">\r\n                                <input placeholder=\"Search for album\" onChange={this.handleFilterValue.bind(this)} value={searchValue} type=\"text\"/>\r\n                            </p>\r\n\r\n                            <ul className=\"album-list clearfix\">\r\n                                {\r\n                                    albumList.map((albumItem,i)=>{\r\n                                        return (<li key={i}>\r\n                                            <Link to={`/page3/${albumItem.id}`}>\r\n                                                <div className={`album-img ${albumItem.active && 'active'}`}></div>\r\n                                            </Link>\r\n                                            <div className=\"album-name\">\r\n                                                <input value={albumItem.name} onChange={this.handleOnchangeValue.bind(this,albumItem.id)}  type=\"text\" autoFocus/>\r\n                                            </div>\r\n                                        </li>)\r\n                                    })\r\n                                }\r\n                                <li>\r\n                                    <a href=\"\" onClick={this.addAlbum.bind(this)}>\r\n                                        <div className=\"album-img\">\r\n\r\n                                            <div className=\"add-img\"></div>\r\n                                            <div className=\"add-text\">New Ablum</div>\r\n                                        </div>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"footer\">\r\n                        <span className=\"footer-left fl\">\r\n                            <Link to=\"/\">Back</Link> to homepage.\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Page2;\r\nexport  {tempAlbumList}","\r\nimport React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport './Page3.css';\r\nimport Draggable from 'react-draggable';\r\nimport {tempAlbumList} from \"./Page2\"\r\nlet tempUploadList =[];\r\nclass Page3 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state= {\r\n            imgUrlValue:\"\",\r\n            curImgId:\"\",\r\n            curId:\"\",\r\n            uploadList: tempUploadList,\r\n            isDrag:false,\r\n            titleName:\"\"\r\n        }\r\n    }\r\n    componentWillUnmount(){\r\n        let {uploadList} = this.state;\r\n        tempUploadList =uploadList;\r\n    }\r\n    componentWillMount(){\r\n        let {id} = this.props.match.params;\r\n        let {uploadList} = this.state;\r\n        let isExist=uploadList.some((item)=>{\r\n            return item.id === id;\r\n        });\r\n        console.log(tempAlbumList)\r\n        tempAlbumList.forEach((item)=>{\r\n            if(item.id == id){\r\n                this.setState({\r\n                    titleName:item.name\r\n                })\r\n            }\r\n        });\r\n        if(!isExist){\r\n            uploadList.push({\r\n                id:id,\r\n                list:[\r\n                    {imgId:1,imgUrl:\"\",x:0,y:0,zIndex:0},\r\n                    {imgId:2,imgUrl:\"\",x:0,y:0,zIndex:1},\r\n                    {imgId:3,imgUrl:\"\",x:0,y:0,zIndex:2},\r\n                    {imgId:4,imgUrl:\"\",x:0,y:0,zIndex:3}\r\n\r\n                ]\r\n            });\r\n            this.setState({\r\n                uploadList:uploadList\r\n            })\r\n        }\r\n    }\r\n    getCurUploadList(){\r\n        let {id} = this.props.match.params;\r\n        let {uploadList} = this.state;\r\n        let curList = uploadList.filter((item,i)=>{\r\n            return item.id === id;\r\n        });\r\n        if(curList.length >0){\r\n            return curList[0]\r\n        }else{\r\n            return {}\r\n        }\r\n    }\r\n    handleChangeFile(id,imgId){\r\n        let uploadImg = this.refs.uploadImg;\r\n        this.setState({\r\n            curImgId:imgId,\r\n            curId:id\r\n        },function () {\r\n            uploadImg.click();\r\n        });\r\n    }\r\n    onChangeUpload(e){\r\n        let freader = new FileReader();\r\n        let ofile = e.target.files[0];\r\n        let self = this;\r\n        let {\r\n            curImgId,\r\n            curId,\r\n            uploadList\r\n        }= this.state;\r\n        if (ofile) {\r\n            freader.readAsDataURL(ofile);\r\n            freader.onload = function() {\r\n\r\n                for(let i=0;i<uploadList.length;i++){\r\n                    if(uploadList[i].id === curId ){\r\n                        let list = uploadList[i].list;\r\n                        for(let l= 0;l<list.length;l++){\r\n                            if(list[l].imgId === curImgId){\r\n                                list[l].imgUrl = this.result;\r\n                                uploadList[i].list =list;\r\n                                break;\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                self.setState({\r\n                    imgUrlValue:\"\",\r\n                    uploadList:uploadList\r\n                })\r\n            };\r\n        }\r\n    }\r\n    handleStop(e,data){\r\n\r\n        console.log(data)\r\n        this.handleDraggableFn({state:1,dataId:this.children.props['data-id'],DraggableData:data})\r\n    }\r\n    handleDrag(){\r\n\r\n    }\r\n    handleStart(){\r\n        this.handleDraggableFn({state:0,ref:this.children.ref});\r\n    }\r\n    handleDraggableFn(data){\r\n        let {state,DraggableData, dataId} = data;\r\n\r\n        if(state === 0){\r\n            this.refs[data.ref].style.zIndex =1000;\r\n            this.setState({\r\n                isDrag:true\r\n            });\r\n        }else{\r\n            let {id} = this.props.match.params;\r\n            let {uploadList} = this.state;\r\n            let curList = uploadList.filter((item,i)=>{\r\n                return item.id === id;\r\n            });\r\n            let sortArr =[];\r\n            sortArr = curList[0].list.slice(0);\r\n            sortArr = sortArr.sort(function (a,b) {\r\n                return a.zIndex > b.zIndex;\r\n            });\r\n            let dataIndex = 0;\r\n            sortArr.forEach(function (item,i) {\r\n               if(item.imgId === dataId){\r\n                   item.zIndex = sortArr.length -1;\r\n                   item.x = DraggableData.x;\r\n                   item.y = DraggableData.y;\r\n               }else{\r\n                   item.zIndex = dataIndex;\r\n                   dataIndex++;\r\n               }\r\n            });\r\n            sortArr.sort(function (a,b) {\r\n                return a.imgId > b.imgId;\r\n            });\r\n            uploadList.forEach((item,i)=>{\r\n                if(item.id === id){\r\n                    item.list = sortArr;\r\n                    return;\r\n                }\r\n            });\r\n            this.setState({\r\n                isDrag:false,\r\n                uploadList:uploadList\r\n            });\r\n        }\r\n    }\r\n    addImg(){\r\n        let {id} = this.props.match.params;\r\n        let {uploadList} = this.state;\r\n        uploadList.forEach((item)=>{\r\n            if(item.id === id){\r\n                item.list.push({\r\n                    imgId:item.list.length+1,\r\n                    imgUrl:\"\",\r\n                    x:0,\r\n                    y:0,\r\n                    zIndex:item.list.length\r\n                })\r\n            }\r\n        });\r\n        this.setState({\r\n            uploadList:uploadList\r\n        })\r\n    }\r\n    render() {\r\n        let {imgUrlValue, titleName}= this.state;\r\n        let curUpload = this.getCurUploadList();\r\n        return (\r\n            <div className=\"page3\">\r\n                <div className=\"container\">\r\n                    <div className=\"content\">\r\n                        <div className=\"p40 page3-inner\">\r\n                            <p className=\"page2-title\">upload your polaroid to {titleName}</p>\r\n                            <ul className=\"upload-list\">\r\n                                {\r\n                                    curUpload.list.map((item,i)=>{\r\n                                        return (<Draggable onStart={this.handleStart}\r\n                                                           handleDraggableFn ={this.handleDraggableFn.bind(this)}\r\n                                                           handle=\".handle\"\r\n                                                           onDrag={this.handleDrag}\r\n                                                           onStop={this.handleStop}\r\n                                                           defaultPosition={{x:item.x, y: item.y}}\r\n                                                            key={i}>\r\n                                                    <li className=\"handle\" ref={`draggable${i}`} data-id={item.imgId} style={{'zIndex':item.zIndex}}>\r\n                                                        <div className=\"upload-list-inner\">\r\n                                                            <img onClick={this.handleChangeFile.bind(this,curUpload.id,item.imgId)}\r\n                                                                 src={item.imgUrl}\r\n                                                                 alt=\"\"/>\r\n                                                        </div>\r\n                                                    </li>\r\n                                        </Draggable>)\r\n                                    })\r\n                                }\r\n                                <li onClick={this.addImg.bind(this)}>\r\n                                    <div className=\"album-img\">\r\n                                        <div className=\"add-img\"></div>\r\n                                        <div className=\"add-text\">New frame</div>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <input ref=\"uploadImg\" value={imgUrlValue} onChange={this.onChangeUpload.bind(this)} type=\"file\" className=\"hide\"/>\r\n                    <div className=\"footer\">\r\n                        <span className=\"footer-left fl\">\r\n                            <Link to=\"/page2\">Back</Link> to create an album.\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default Page3;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport {Route} from 'react-router-dom'\nimport Page1 from './components/Page1.js'\nimport Page2 from './components/Page2.js'\nimport Page3 from './components/Page3.js'\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Route path=\"/\" exact component={Page1} />\n        <Route path=\"/page2\" component={Page2} />\n        <Route path=\"/page3/:id\" component={Page3} />\n      </div>\n    );\n  }\n}\n\nexport default App;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport { HashRouter} from 'react-router-dom'\nReactDOM.render(<HashRouter><App /></HashRouter>, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}